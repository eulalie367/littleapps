var libpath = require("path"),
   fs = require("fs");


//handy extension methods
exports.isNullOrEmpty = function (str)
{
	return typeof(str) == "undefined" ? true : str == null ? true : typeof(str) != "string" ? false : str.replace(/\s/, "").length < 1 ? true : false;
}

var _files = [];
exports.getFile = function (fileName, callback)//this allows us to save a global variable and avoid a ton of io checks
{
	var retVal = _files[fileName];
	if(retVal == null || typeof(retVal) == "undefined")
	{
		libpath.exists(fileName, function (exists)
		{
			if(exists)
			{
				fs.readFile(fileName, "binary", function (err, file)
				{
					_files[fileName] = file;
					callback(file);
				});
			}
			else
			{
				callback(null);
			}
		});
	}
	else
	{
		callback(retVal);
	}
	return retVal;
}

